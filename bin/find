#!/bin/bash
recurse() {  
	[ ! -d "$1" ] && return
	for i in "$1"/*; do
		path=${i//\/\//\/} # replace all double slashes
		echo "$path"
		# dont follow symbolic links
		[ -L "$path" ] && continue
		# recurse down dirs
		[ -d "$path" ] && recurse "$path"
	done
}
if [ -z "$1" ]; then
	recurse .
else
	for file in "$@"
	do
		recurse "$file"
	done
fi
